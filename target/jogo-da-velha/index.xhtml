<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
<meta charset="UTF-8" />
<title>Jogo da Velha</title>
<style type="text/css">
	.w50{width: 50px}
	.w60{width: 60px}
	.h60{height: 60px}
	.w100{width: 100px}
	.h100{height: 100px}
	.w150{width: 150px}
	.h150{height: 150px}
	.al-left{text-align: left}
	.al-right{text-align: right}
	.al-center{text-align: center}
	.b0{border: none}
	.anthony{background-image: url("./resources/imagens/anthony.jpg") !important;}
	.andreo{background-image: url("./resources/imagens/andreo.jpg") !important;}
	.antonio{background-image: url("./resources/imagens/antonio.jpg") !important;}
	.michele{background-image: url("./resources/imagens/michele.jpg") !important;}
</style>
</h:head>
<h:body>
	<h:form id="form" prependId="false">
		<p:growl id="messages" showDetail="true" globalOnly="true" autoUpdate="true" showSummary="false" severity="info,error" />
		
		
		
		<p:panel id="pnlJogo" header="Jogo da Velha">
		
			<p:panelGrid columns="4">
				<h:outputText value="Quem é você? " />
				<p:selectOneMenu value="#{principalMB.pessoa}">
					<f:selectItems value="#{principalMB.pessoas}" var="p" itemLabel="#{p.nome}" itemValue="#{p}" />
				</p:selectOneMenu>
				<p:commandButton value="Iniciar Jogo" action="#{principalMB.iniciar}" update="@form" process="@form" />
				<p:panel id="pnlParticipar" styleClass="b0">
					<p:commandButton value="Participar" action="#{principalMB.participar}" update="@form" process="@form" rendered="#{principalMB.podeParticipar}" />
				</p:panel>				
			</p:panelGrid>
			
			<p:separator />
			
			<p:panelGrid id="pnlInfo" columns="6" columnClasses="w60 al-left,w100 al-left,w60 al-left,w100 al-left,w60 al-left,w100 al-left">
				<h:outputText value="Eu: " />
				<h:outputText value="#{principalMB.eu.pessoa.nome}" />
				
				<h:outputText value="Adversário: " />
				<h:outputText value="#{principalMB.outro.pessoa.nome}" />
				
				<h:outputText value="Vencedor: " />
				<h:outputText value="#{principalMB.vencedor.pessoa.nome}" />
			</p:panelGrid>
			
			<p:panel id="pnlCasas">
				<p:separator rendered="#{principalMB.jogo.jogador2 != null}" />		
				<p:panelGrid columns="3" columnClasses="al-center,al-center,al-center"
					rendered="#{principalMB.jogo.jogador2 != null}">				
					
					<p:commandButton rendered="#{principalMB.casa[0][0].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(0, 0)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[0][0].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[0][0].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[0][0].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[0][0].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[0][1].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(0, 1)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[0][1].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[0][1].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[0][1].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[0][1].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[0][2].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(0, 2)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[0][2].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[0][2].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[0][2].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[0][2].jogadorNome}" />
					</p:panel>					
					
					<p:commandButton rendered="#{principalMB.casa[1][0].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(1, 0)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[1][0].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[1][0].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[1][0].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[1][0].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[1][1].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(1, 1)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[1][1].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[1][1].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[1][1].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[1][1].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[1][2].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(1, 2)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[1][2].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[1][2].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[1][2].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[1][2].jogadorNome}" />
					</p:panel>					
					
					<p:commandButton rendered="#{principalMB.casa[2][0].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(2, 0)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[2][0].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[2][0].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[2][0].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[2][0].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[2][1].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(2, 1)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[2][1].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[2][1].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[2][1].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[2][1].jogadorNome}" />
					</p:panel>
					<p:commandButton rendered="#{principalMB.casa[2][2].jogadorNome == ''}" value="" style="background-color: white"
						class="w100 h100" action="#{principalMB.marcarCasa(2, 2)}" update="@form" process="@form" />	
					<p:panel rendered="#{principalMB.casa[2][2].jogadorNome != ''}" class="w100 h100 al-center"
						style="background-color: #{principalMB.casa[2][2].cor}">
						<p:graphicImage styleClass="w60 h60 #{principalMB.casa[2][2].jogadorImagem}"  />
						<h:outputText value="#{principalMB.casa[2][2].jogadorNome}" />
					</p:panel>	
				</p:panelGrid>	
			</p:panel>	
    	</p:panel>
    	<p:poll interval="2" update="pnlParticipar,pnlInfo,pnlCasas" listener="#{principalMB.atualizar}" process="@form" />
	</h:form>	
</h:body>
</html>